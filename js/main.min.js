document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".cookie");document.querySelectorAll(".cookie__button").forEach((t=>t.addEventListener("click",(()=>{e.classList.add("hide")}))));const t=document.querySelector(".header__aside"),r=document.querySelector(".aside"),a=document.querySelector(".aside__close"),s=document.querySelectorAll(".aside__navigate__link"),c=document.querySelector(".modal"),l=document.querySelectorAll(".button_primary--dark"),n=[document.querySelector(".input__name"),document.querySelector(".input__email"),document.querySelector(".input__phone")],o=document.querySelector(".flag"),d=document.querySelectorAll(".modal__input__error"),i=document.querySelector(".modal__error"),u=document.querySelector(".modal__button"),m=document.querySelector(".modal__close"),v=document.querySelector(".modal_succsess"),_=[document.querySelector(".modal_succsess__close"),document.querySelector(".modal_succsess__button")];n.forEach(((e,t)=>{e.addEventListener("blur",(e=>{e.target.value.trim()?(d[t].classList.remove("error"),function(e,t){let r=!1;return t.forEach((t=>{t.classList.contains(e)&&(r=!0)})),r}("error",d)||i.classList.remove("error")):(d[t].classList.add("error"),i.classList.add("error")),!function(e){let t=!1;return e.forEach((e=>{e.value||(t=!0)})),t}(n)?u.disabled=!1:u.disabled=!0}))})),l.forEach((e=>{e.addEventListener("click",(()=>{r.style.transform="translateX(-100%)",v.classList.remove("active"),e.classList.contains("modal__button")||c.classList.add("active"),e.classList.contains("modal__button")||e.classList.add("pressed")}))})),m.addEventListener("click",(()=>{c.classList.remove("active"),l.forEach((e=>{e.classList.contains("modal__button")||e.classList.remove("pressed")}))})),u.addEventListener("click",(e=>{e.preventDefault(),c.classList.remove("active"),v.classList.add("active")})),_.forEach((e=>{e.addEventListener("click",(()=>{v.classList.remove("active")}))}));let L=document.querySelectorAll(".input__phone"),f=function(e){return e.value.replace(/\D/g,"")},y=function(e){let t=e.target,r=f(t),a=e.clipboardData||window.clipboardData;if(a){let e=a.getData("Text");if(/\D/g.test(e))return void(t.value=r)}},g=function(e){let t=e.target,r=f(t),a=t.selectionStart,s="";if(!r)return t.value="";if(t.value.length==a){if(["7","8","9"].indexOf(r[0])>-1){o.classList.add("active"),"9"==r[0]&&(r="7"+r);let e="8"==r[0]?"8":"+7";s=t.value=e+" ",r.length>1&&(s+="("+r.substring(1,4)),r.length>=5&&(s+=") "+r.substring(4,7)),r.length>=8&&(s+="-"+r.substring(7,9)),r.length>=10&&(s+="-"+r.substring(9,11))}else o.classList.remove("active"),s="+"+r.substring(0,16);t.value=s}else e.data&&/\D/g.test(e.data)&&(t.value=r)},E=function(e){let t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(let e of L)e.addEventListener("keydown",E),e.addEventListener("input",g,!1),e.addEventListener("paste",y,!1);t.addEventListener("click",(()=>{r.style.transform="translateX(0)"})),a.addEventListener("click",(()=>{r.style.transform="translateX(-100%)"})),s.forEach((e=>{e.addEventListener("click",(()=>{r.style.transform="translateX(-100%)"}))}))}));